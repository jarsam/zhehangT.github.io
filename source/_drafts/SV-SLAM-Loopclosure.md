---
title: SV_SLAM_Loopclosure
tags:
---

# 1.概述
基于 **Stitch Image Visual Odometry** ，我们可以对连续帧图像进行 **Traking** , 然后根据 ** Traking ** 得到的定位结果，进行 **Mapping**。但是由于拼接和分割都或多或少的引入一些误差，导致并非所有的 **Traking** 结果都是百分百正确的。更直观的讲，对于一个环形的停车场，当我们绕停车场行驶一圈时，并不能完完全全地回到起点位置。这个误差可以称之为累积误差。这个误差的存在会导致最终 **Mapping** 的结果不具备全局一致性。
为了保证建图结果的全局一致性，我们在 **Stitch Image Visual Odometry** 的基础上，引入了回环优化。

# 2.问题描述
假设通过 **Stitch Image Visual Odometry** ，我们得到了一系列在时间域上连续的 n 个图像帧，这些图像帧全局坐标系中的位姿为 
$$ ( T\_{wc\_{1}}, T\_{wc\_{2}} ... T_{wc\_{n}}) $$
假设第一帧图像和第 n 帧存在回环关系，如何通过回环优化使得所有图像帧的位姿更为准确？

# 3.回环帧之间的相对位姿计算
要进行回环优化，首先要计算回环帧之间的位姿关系。回到上面这个问题，即第一帧和第n帧之间的位姿关系 $$ T\_{c\_{1}c\_{2}} $$

假设在第一帧图像中的某个像素


# 4.PoseGraph回环优化

